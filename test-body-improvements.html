<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Body Improvements - HSK Learning</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
        }
        .test-title {
            color: #e11d48;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .test-result {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }
        .error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }
        .info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #3b82f6;
        }
        .test-button {
            background: #e11d48;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #be123c;
        }
        iframe {
            width: 100%;
            height: 700px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-item {
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .before {
            background: #fef2f2;
            border-color: #fca5a5;
        }
        .after {
            background: #f0fdf4;
            border-color: #86efac;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üé® Test Body Improvements - HSK Learning App</h1>
        
        <div class="test-section">
            <div class="test-title">üìä CSS Styles Validation</div>
            <div id="css-validation">Testing CSS improvements...</div>
            <button class="test-button" onclick="testCSSStyles()">Test CSS</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üé¥ Flashcard Enhancements</div>
            <div id="flashcard-test">Testing flashcard improvements...</div>
            <button class="test-button" onclick="testFlashcards()">Test Flashcards</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üß≠ Navigation Improvements</div>
            <div id="navigation-test">Testing navigation enhancements...</div>
            <button class="test-button" onclick="testNavigation()">Test Navigation</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üì± Responsive Design</div>
            <div id="responsive-test">Testing responsive improvements...</div>
            <button class="test-button" onclick="testResponsive()">Test Responsive</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üéØ Interactive Elements</div>
            <div id="interactive-test">Testing interactive components...</div>
            <button class="test-button" onclick="testInteractive()">Test Interactive</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üìä Before vs After Comparison</div>
            <div class="comparison-grid">
                <div class="comparison-item before">
                    <h3>‚ùå Before Improvements</h3>
                    <ul>
                        <li>Basic HTML structure</li>
                        <li>Limited CSS styling</li>
                        <li>No glassmorphism effects</li>
                        <li>Basic button interactions</li>
                        <li>Simple navigation tabs</li>
                        <li>No welcome message</li>
                        <li>Basic flashcard design</li>
                    </ul>
                </div>
                <div class="comparison-item after">
                    <h3>‚úÖ After Improvements</h3>
                    <ul>
                        <li>Enhanced semantic structure</li>
                        <li>Modern CSS with variables</li>
                        <li>Glassmorphism and gradients</li>
                        <li>Interactive button animations</li>
                        <li>Enhanced tab navigation</li>
                        <li>Welcome message with stats</li>
                        <li>3D flashcard animations</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">üñ•Ô∏è Live Application Preview</div>
            <iframe src="http://localhost:8070" id="app-preview"></iframe>
            <div style="margin-top: 10px; text-align: center;">
                <button class="test-button" onclick="reloadPreview()">Reload Preview</button>
                <button class="test-button" onclick="toggleWelcome()">Toggle Welcome</button>
                <button class="test-button" onclick="testAllTabs()">Test All Tabs</button>
            </div>
        </div>
    </div>

    <script>
        // Test CSS styles validation
        async function testCSSStyles() {
            const testDiv = document.getElementById('css-validation');
            testDiv.innerHTML = '<div class="info">Testing CSS improvements...</div>';
            
            try {
                const response = await fetch('http://localhost:8070/styles-v2.css');
                const css = await response.text();
                
                const tests = [
                    { name: 'Enhanced body styling', test: css.includes('body {') && css.includes('linear-gradient') },
                    { name: 'Glassmorphism effects', test: css.includes('backdrop-filter: blur') },
                    { name: 'CSS custom properties', test: css.includes('--color-primary') },
                    { name: 'Responsive breakpoints', test: css.includes('@media (max-width:') },
                    { name: 'Animation keyframes', test: css.includes('@keyframes') },
                    { name: 'Flexbox layouts', test: css.includes('display: flex') },
                    { name: 'Grid layouts', test: css.includes('display: grid') },
                    { name: 'Transform effects', test: css.includes('transform:') }
                ];
                
                let results = '<div class="success">CSS Styles Tests:</div>';
                let passedTests = 0;
                
                tests.forEach(test => {
                    const status = test.test ? '‚úÖ' : '‚ùå';
                    const className = test.test ? 'success' : 'error';
                    results += `<div class="${className}">${status} ${test.name}</div>`;
                    if (test.test) passedTests++;
                });
                
                results += `<div class="info">üìä Passed: ${passedTests}/${tests.length} tests</div>`;
                testDiv.innerHTML = results;
                
            } catch (error) {
                testDiv.innerHTML = '<div class="error">‚ùå Error testing CSS: ' + error.message + '</div>';
            }
        }
        
        // Test flashcard enhancements
        async function testFlashcards() {
            const testDiv = document.getElementById('flashcard-test');
            testDiv.innerHTML = '<div class="info">Testing flashcard enhancements...</div>';
            
            try {
                const response = await fetch('http://localhost:8070');
                const html = await response.text();
                
                const tests = [
                    { name: 'Flashcard container', test: html.includes('flashcard-container') },
                    { name: 'Flashcard inner structure', test: html.includes('flashcard-inner') },
                    { name: 'Card faces (front/back)', test: html.includes('card-front') && html.includes('card-back') },
                    { name: 'Character display', test: html.includes('card-character') },
                    { name: 'Hint system', test: html.includes('card-hint') },
                    { name: 'Full info display', test: html.includes('card-info') },
                    { name: 'Action buttons', test: html.includes('action-buttons') }
                ];
                
                let results = '<div class="success">Flashcard Tests:</div>';
                let passedTests = 0;
                
                tests.forEach(test => {
                    const status = test.test ? '‚úÖ' : '‚ùå';
                    const className = test.test ? 'success' : 'error';
                    results += `<div class="${className}">${status} ${test.name}</div>`;
                    if (test.test) passedTests++;
                });
                
                results += `<div class="info">üìä Passed: ${passedTests}/${tests.length} tests</div>`;
                testDiv.innerHTML = results;
                
            } catch (error) {
                testDiv.innerHTML = '<div class="error">‚ùå Error testing flashcards: ' + error.message + '</div>';
            }
        }
        
        // Test navigation improvements
        async function testNavigation() {
            const testDiv = document.getElementById('navigation-test');
            testDiv.innerHTML = '<div class="info">Testing navigation improvements...</div>';
            
            try {
                const response = await fetch('http://localhost:8070');
                const html = await response.text();
                
                const tests = [
                    { name: 'Navigation container', test: html.includes('nav-container') },
                    { name: 'Navigation tabs', test: html.includes('nav-tabs') },
                    { name: 'Tab panels', test: html.includes('tab-panel') },
                    { name: 'Active tab state', test: html.includes('nav-tab active') },
                    { name: 'Tab data attributes', test: html.includes('data-tab=') },
                    { name: 'Practice tab', test: html.includes('data-tab="practice"') },
                    { name: 'Browse tab', test: html.includes('data-tab="browse"') },
                    { name: 'Quiz tab', test: html.includes('data-tab="quiz"') },
                    { name: 'Stats tab', test: html.includes('data-tab="stats"') }
                ];
                
                let results = '<div class="success">Navigation Tests:</div>';
                let passedTests = 0;
                
                tests.forEach(test => {
                    const status = test.test ? '‚úÖ' : '‚ùå';
                    const className = test.test ? 'success' : 'error';
                    results += `<div class="${className}">${status} ${test.name}</div>`;
                    if (test.test) passedTests++;
                });
                
                results += `<div class="info">üìä Passed: ${passedTests}/${tests.length} tests</div>`;
                testDiv.innerHTML = results;
                
            } catch (error) {
                testDiv.innerHTML = '<div class="error">‚ùå Error testing navigation: ' + error.message + '</div>';
            }
        }
        
        // Test responsive design
        async function testResponsive() {
            const testDiv = document.getElementById('responsive-test');
            testDiv.innerHTML = '<div class="info">Testing responsive design...</div>';
            
            try {
                const response = await fetch('http://localhost:8070/styles-v2.css');
                const css = await response.text();
                
                const tests = [
                    { name: 'Mobile breakpoint (768px)', test: css.includes('@media (max-width: 768px)') },
                    { name: 'Small mobile (480px)', test: css.includes('@media (max-width: 480px)') },
                    { name: 'Flexible layouts', test: css.includes('flex-wrap: wrap') },
                    { name: 'Responsive typography', test: css.includes('clamp(') },
                    { name: 'Grid responsiveness', test: css.includes('grid-template-columns: repeat(auto-fit') },
                    { name: 'Container max-width', test: css.includes('max-width:') },
                    { name: 'Viewport units', test: css.includes('vw') || css.includes('vh') }
                ];
                
                let results = '<div class="success">Responsive Design Tests:</div>';
                let passedTests = 0;
                
                tests.forEach(test => {
                    const status = test.test ? '‚úÖ' : '‚ùå';
                    const className = test.test ? 'success' : 'error';
                    results += `<div class="${className}">${status} ${test.name}</div>`;
                    if (test.test) passedTests++;
                });
                
                results += `<div class="info">üìä Passed: ${passedTests}/${tests.length} tests</div>`;
                testDiv.innerHTML = results;
                
            } catch (error) {
                testDiv.innerHTML = '<div class="error">‚ùå Error testing responsive: ' + error.message + '</div>';
            }
        }
        
        // Test interactive elements
        async function testInteractive() {
            const testDiv = document.getElementById('interactive-test');
            testDiv.innerHTML = '<div class="info">Testing interactive components...</div>';
            
            try {
                const response = await fetch('http://localhost:8070');
                const html = await response.text();
                
                const tests = [
                    { name: 'Button elements', test: html.includes('<button') },
                    { name: 'Input elements', test: html.includes('<input') },
                    { name: 'Select elements', test: html.includes('<select') },
                    { name: 'Form controls', test: html.includes('control-group') },
                    { name: 'Practice modes', test: html.includes('practice-modes') },
                    { name: 'Quiz options', test: html.includes('quiz-options') },
                    { name: 'Progress bars', test: html.includes('progress-bar') },
                    { name: 'Statistics cards', test: html.includes('stat-card') }
                ];
                
                let results = '<div class="success">Interactive Elements Tests:</div>';
                let passedTests = 0;
                
                tests.forEach(test => {
                    const status = test.test ? '‚úÖ' : '‚ùå';
                    const className = test.test ? 'success' : 'error';
                    results += `<div class="${className}">${status} ${test.name}</div>`;
                    if (test.test) passedTests++;
                });
                
                results += `<div class="info">üìä Passed: ${passedTests}/${tests.length} tests</div>`;
                testDiv.innerHTML = results;
                
            } catch (error) {
                testDiv.innerHTML = '<div class="error">‚ùå Error testing interactive: ' + error.message + '</div>';
            }
        }
        
        // Utility functions
        function reloadPreview() {
            const iframe = document.getElementById('app-preview');
            iframe.src = iframe.src;
        }
        
        function toggleWelcome() {
            const iframe = document.getElementById('app-preview');
            iframe.contentWindow.postMessage({action: 'toggleWelcome'}, '*');
        }
        
        function testAllTabs() {
            const iframe = document.getElementById('app-preview');
            iframe.contentWindow.postMessage({action: 'testTabs'}, '*');
        }
        
        // Auto-run tests on page load
        window.addEventListener('load', () => {
            setTimeout(() => {
                testCSSStyles();
                setTimeout(() => testFlashcards(), 1000);
                setTimeout(() => testNavigation(), 2000);
                setTimeout(() => testResponsive(), 3000);
                setTimeout(() => testInteractive(), 4000);
            }, 500);
        });
    </script>
</body>
</html>